/*
 * reading.js (minified)
 * 
 * javascript reading system for Telescopic Text
 * http://telescopictext.org/
#
 * Date: 21st April 2011
 * Version: 0.9.5
#
 * Copyright (c) 2011 Joe Davis
 *
 */


var setup_reading;

setup_reading = function() {
  var a;
  a = 'in';
  $('.c').hide();
  $('.b').show();
  $('.telescopictext, .credit').show();
  $('.b').addClass('_b');
  $('.b').click(function() {
    if (a === 'in') {
      $(this).parent().children('.b').hide();
      $(this).parent().children('.c').show();
    }
  });
  $('.c').click(function() {
    if (a === 'out' && $(this).hasClass('_node_content')) {
      $(this).parent().children('.b').show();
      $(this).parent().children('.c').hide();
      $('.c:parent:not(:has(.c:visible)), .c:empty:visible').addClass('_node_content');
    }
  });
  $(window).keydown(function(b) {
    if (b.keyCode === 18) {
      a = 'out';
      $('.c:parent:not(:has(.c:visible)), .c:empty:visible').addClass('_node_content');
      $('.b').removeClass('_b');
    }
  }).keyup(function(b) {
    if (b.keyCode === 18) {
      a = 'in';
      $('.c').removeClass('_node_content');
      $('.b').addClass('_b');
    }
  });
};

$(document).ready(function() {
  setup_reading();
});
